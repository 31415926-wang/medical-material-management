import{E as d,d as D,b as _,r as b,f as h,m as o,u as F,v as n,e as g,l as a,z as B,t as C,I as E,g as q}from"./index-14e5c0a4.js";import{i as L}from"./initCrud-3a1630e9.js";const N=l=>d({url:"/business/productCategory/categoryTree",method:"get",params:l}),R=l=>d({url:"/business/productCategory/add",method:"post",data:l}),S=l=>d({url:"/business/productCategory/update/"+l.id,method:"put",data:l}),z=l=>d({url:"/business/productCategory/delete/"+l,method:"DELETE"}),A={getList:N,addItem:R,updateItem:S,deleteItem:z},O=D({__name:"index",setup(l){const k=_({name:[{required:!0,message:"请填写分类名称",trigger:"blur"}],remark:[{required:!0,message:"请填写备注",trigger:"blur"}],sort:[{required:!0,message:"请填写序号",trigger:"blur"}]});let m=b(),i=b(),V=_([{prop:"name",label:"分类名称",rebuild:!0},{prop:"sort",label:"排序",sortable:!0,width:150},{prop:"createTime",label:"创建时间"},{prop:"modifiedTime",label:"修改时间"},{prop:"remark",label:"备注"},{prop:"lev",label:"层级",rebuild:!0}]);L(i,{title:"物资类别",apiMethod:A},V);const f=s=>{let r="";switch(s){case 1:r="一";break;case 2:r="二";break;case 3:r="三";break}return r+"级分类"},y=s=>{let r="primary";switch(s){case 1:r="primary";break;case 2:r="success";break;case 3:r="danger";break}return r};return(s,r)=>{const T=n("el-tag"),w=n("el-icon"),c=n("el-input"),u=n("el-form-item"),x=n("el-input-number"),v=n("el-form"),U=n("CrudTable");return g(),h(U,{ref_key:"CrudTableRef",ref:i,treeProps:{children:"children"},needIndex:!1,hiddenToolSection:!0,defaultToolBtList:[],needOperate:!0,closeViewDetail:!0,operateColWidth:170,editorCheckForm:F(m)},{levCol:o(({scope:e})=>{var t;return[a(T,{type:y((t=e.row)==null?void 0:t.lev)},{default:o(()=>{var p;return[B(C(f((p=e.row)==null?void 0:p.lev)),1)]}),_:2},1032,["type"])]}),nameCol:o(({scope:e})=>{var t;return[a(w,{style:{"margin-right":"5px"}},{default:o(()=>[(g(),h(E(e.row.children?"DocumentAdd":"Tickets")))]),_:2},1024),q("span",null,C((t=e.row)==null?void 0:t.name),1)]}),editorForm:o(({formInfo:e})=>[a(v,{ref_key:"editorCheckForm",ref:m,model:e,"label-width":"80px",rules:k},{default:o(()=>[a(u,{label:"分类名称",prop:"name"},{default:o(()=>[a(c,{modelValue:e.name,"onUpdate:modelValue":t=>e.name=t,placeholder:"请填写分类名称"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(u,{label:"备注",prop:"remark"},{default:o(()=>[a(c,{type:"textarea",modelValue:e.remark,"onUpdate:modelValue":t=>e.remark=t,placeholder:"请填写备注"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(u,{label:"排序",prop:"sort"},{default:o(()=>[a(x,{modelValue:e.sort,"onUpdate:modelValue":t=>e.sort=t,min:1},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["model","rules"])]),_:1},8,["editorCheckForm"])}}});export{O as default};
